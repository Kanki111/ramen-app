<h1 class="account_name">マップページ</h1>
このページは投稿されたラーメン屋さんがピン留めされていて情報を見ることができます。
<div id="map_canvas" style="width:80%; height:500px;"></div>

<script>
var map;
var marker = [];
var infoWindow = [];
// マーカーに設定するタイトル・緯度・経度・内容
var markerData = [ {
  title: '無邪気 自由が丘北口店',
  lat: 35.607947,
  lng: 139.669722,
  content: '無邪気 自由が丘北口店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/27/%E3%83%8D%E3%82%AD%E3%82%99%E3%83%A9%E3%83%BC%E3%83%A1%E3%83%B3.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/27" target="_blank">投稿ページへ</a>'
}, {
    title: 'ラーメン豚山 大塚店',
    lat: 35.733084,
    lng: 139.727874,
    content: 'ラーメン豚山 大塚店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/9/%E8%B1%9A%E5%B1%B1.jpg" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/9" target="_blank">投稿ページへ</a>'
  } , {
    title: '濃厚豚骨らーめん 吉春家',
    lat: 35.732981,
    lng: 139.727423,
    content: '濃厚豚骨らーめん 吉春家<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/18/%E5%90%89%E6%98%A5%E5%B1%8B.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/18" target="_blank">投稿ページへ</a>'
  }, {
    title: '博多濃麻呂 二子玉川店',
    lat: 35.613865,
    lng: 139.625316,
    content: '博多濃麻呂 二子玉川店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/28/%E5%8D%9A%E5%A4%9A%E6%BF%83%E9%BA%BB%E5%91%82.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/28" target="_blank">投稿ページへ</a>'
  } , {
    title: '豚星。',
    lat: 35.559966,
    lng: 139.654415,
    content: '豚星。<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/29/%E8%B1%9A%E6%98%9F.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/29" target="_blank">投稿ページへ</a>'
  }, {
    title: '立川マシマシ 8号店',
    lat: 35.914643,
    lng: 139.482894,
    content: '立川マシマシ 8号店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/30/%E7%AB%8B%E5%B7%9D%E3%83%9E%E3%82%B7%E3%83%9E%E3%82%B7.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/30" target="_blank">投稿ページへ</a>'
  }, {
    title: 'やすべえ',
    lat: 35.710630,
    lng: 139.704463,
    content: 'やすべえ<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/33/%E3%82%84%E3%81%99%E3%81%B8%E3%82%99%E3%81%88.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/33" target="_blank">投稿ページへ</a>'
  }, {
    title: '元祖赤のれん 節ちゃんラーメン 天神本店',
    lat: 33.589182,
    lng: 130.395793,
    content: '元祖赤のれん 節ちゃんラーメン 天神本店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/24/%E5%A4%A9%E7%A5%9E%E5%85%83%E7%A5%96%E8%B5%A4%E3%81%AE%E3%82%8C%E3%82%93.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/24" target="_blank">投稿ページへ</a>'
  }, {
    title: '麺爺あぶら 早稲田店',
    lat: 35.706637,
    lng: 139.720623,
    content: '麺爺あぶら 早稲田店<br><img src="https://image-ramen-app-main.s3-ap-northeast-1.amazonaws.com/uploads/member/post/image/26/%E9%BA%BA%E7%88%BA.JPG" width="200"><br><a href="https://ramen-app-main.herokuapp.com/member/posts/26" target="_blank">投稿ページへ</a>'
  } ];	

  function initMap() {
    // 緯度経度のデータ作成
    var mapLatLng = new google.maps.LatLng({lat: 35.732981, lng: 139.727423});
    // 地図の基本設定
    map = new google.maps.Map(document.getElementById('map_canvas'), {
      center: mapLatLng, // 地図の中心座標を指定
      zoom: 12,
      mapTypeId: google.maps.MapTypeId.ROADMAP // マップの表示種別選択 (ROADMAP・SATELLITE・TERRAIN・HYBRIDから選択)
    });
    
    // マーカー毎の処理
    for (var i = 0; i < markerData.length; i++) {
      // 緯度経度のデータを作成
      markerLatLng = new google.maps.LatLng({lat: markerData[i]['lat'], lng: markerData[i]['lng']});
      marker[i] = new google.maps.Marker({
        position: markerLatLng, // マーカーを立てる位置を指定
        map: map, // マーカーを立てる地図を指定
        title: markerData[i]['title'] // ツールヒント
      });
      
      // 吹き出しの設定
      infoWindow[i] = new google.maps.InfoWindow({
        // 吹き出しに表示する内容を設定する
        content: markerData[i]['content']
      });
      
      // マーカーにクリックイベントを追加
      markerEvent(i);
    }
  }
   
  // マーカーにクリックイベントを追加
  function markerEvent(i) {
      marker[i].addListener('click', function() {
        // 吹き出しの表示
        infoWindow[i].open(map, marker[i]);
    });
  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBfCmlyL2lyPkB-fTxtmVP_q0VEpEtGXW4&language=ja&region=JP&callback=initMap" async defer></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
# <script src="../../../javascript/packs/map.js"></script>
<%= render "common/footer" %>
